--- session.c	2008-06-16 06:29:18.000000000 -0700
+++ session.c	2008-08-13 17:40:56.000000000 -0700
@@ -424,7 +424,9 @@
 	}
 }
 
+#ifndef __APPLE__
 #define USE_PIPES
+#endif
 /*
  * This is called to fork and execute a command when we have no tty.  This
  * will call do_child from the child, and server_loop from the parent after
